---
layout: post
title:  "Project | Weather Tour Application"
date:   2022-10-05 22:52:09 +0900
description: <strong>[ í”„ë¡œì íŠ¸ ] 2021 ì „ê³µì‹¬í™” í”„ë¡œì íŠ¸ </strong> <br/>- Weather Tour Application <br/><br/><p align='center'><img src ="/assets/img/img_weathertour/corona_travel.png" width="90%"</p>
style: border
color: success
categories: Projects
tags: [AI, Android Studio]
---
# [ Project ] 2021 Weather Tour Application

## Project
**2021-1 ì „ê³µì‹¬í™”í”„ë¡œì íŠ¸**



## ğŸŒ¿ Background

![](/assets/img/img_weathertour/corona_travel.png){: .center width="50%"}

(2021 4ì›” ê¸°ì¤€) COVID 19ë¡œ ì¸í•´ êµ­ë‚´ ì—¬í–‰ì„ ë– ë‚˜ë ¤ëŠ” ì‚¬ëŒì´ ëŠ˜ì–´ë‚˜ê³  ìˆë‹¤. 
ìœ„ì˜ ê·¸ë¦¼ì€ í•œêµ­ë¬¸í™”ê´€ê´‘ì—°êµ¬ì›ì—ì„œ ì‹¤ì‹œí•œ 2020ë…„ 2~4ì›”ì— ëŒ€í•œ ì‘ë‹µê³¼ 2021ë…„ 1~3ì›”ì˜ ì‘ë‹µì— ëŒ€í•œ í†µê³„ìë£Œë¡œ, ì½”ë¡œë‚˜19 ì´í›„ **2021 1ë¶„ê¸°**ì— êµ­ë‚´ì—¬í–‰ ë¹„ìœ¨ì´ **51.8%ë¡œ ì¦ê°€**í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

ëŒ€ë¶€ë¶„ì˜ ì‚¬ëŒë“¤ì€ í•™ìƒ ë˜ëŠ” ì§ì¥ì¸ì˜ ì‹ ë¶„ìœ¼ë¡œ ì‹œê°„/ê³µê°„ ìƒì—ì„œ ììœ ë¡­ì§€ ëª»í•˜ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì´ë“¤ì€ ì—¬í–‰ì„ ë– ë‚  ìˆ˜ ìˆëŠ” ë‚ ì´ í•œì •ì ì´ë‹¤. ê·¸ë˜ì„œ ìš°ë¦¬ëŠ” êµ­ë‚´ ê´€ê´‘ì§€ì˜ ë‚ ì”¨ë¥¼ ë¯¸ë¦¬ ì•Œì•„ë‚´ì–´ **ì›í•˜ëŠ” ë‚ ì§œ**ì— **ê°€ì¥ ì—¬í–‰í•˜ê¸° ì•Œë§ì€ ê´€ê´‘ì§€**ë¥¼ ì¶”ì²œí•´ì£¼ëŠ” ì•±ì„ êµ¬ìƒí•˜ì˜€ë‹¤.

![](/assets/img/img_weathertour/weather_map.png){: .center width="50%"}

## ğŸ” About Project
* ê¸°ê°„ : 2021.04.26 ~ 2021.06.11
* ì „ê³µì‹¬í™”ê³µë™ì²´ë¥¼ ì´ë£¨ì–´ ì „ê³µì—ì„œ ë°°ìš´ ì§€ì‹ì„ ì‹¬í™”í•˜ì—¬ í”„ë¡œì íŠ¸ ì§„í–‰
  * ì „ê³µì‹¬í™”ê³µë™ì²´ : ì „ê³µ ê´€ë ¨ êµë‚´ì™¸ ê³µëª¨ì „ ë° ëŒ€íšŒ ì¤€ë¹„, ì „ê³µ ê´€ë ¨ ìê²©ì¦ ì·¨ë“, ì „ê³µ ì§€ì‹ ì‹¤ë¬´ ì—°êµ¬ ë° ê°œë°œ, ì†Œë…¼ë¬¸ ì‘ì„± ë“±ì„ ìœ„í•œ ë™ì¼ ì „ê³µìƒìœ¼ë¡œ êµ¬ì„±ëœ í•™ìŠµê³µë™ì²´

### ì„ íƒ ì „ê³µê³¼ëª©
ğŸ¤– **ë¨¸ì‹ ëŸ¬ë‹** (êµê³¼ëª© : ê¸°ê³„í•™ìŠµ) + ğŸ“¡ **Socket programming** (êµê³¼ëª© : ì»´í“¨í„° ë„¤íŠ¸ì›Œí¬)

### ë°ì´í„°ì…‹

![](/assets/img/img_weathertour/weather_opened.png){: .center width="90%"}

* **ê¸°ìƒì²­ ì§€ìƒ(ì¢…ê´€, ASOS) ë°ì´í„°**

* **ê³µê³µë°ì´í„° ê¸°ìƒì •ë³´ API** (ê¸°ì˜¨, í’ì†, í•˜ëŠ˜ìƒíƒœ, ìŠµë„, ê°•ìˆ˜í™•ë¥ )
  * ê´€ê´‘ì½”ìŠ¤ë³„ ê´€ê´‘ì§€ ìƒì„¸ ë‚ ì”¨ ì¡°íšŒì„œë¹„ìŠ¤

â¡ï¸ ê³„ì ˆë§ˆë‹¤ ì¡°ê±´ ì„¸ë¶„í™” í›„ ì ìˆ˜ ì±…ì • 



### ğŸ† í”„ë¡œì íŠ¸ ê²°ê³¼
ìµœìš°ìˆ˜ìƒ
<br/>


### ë§¡ì€ ì—­í• 
* ì¸ê³µì§€ëŠ¥ ì½”ë“œ
* íŒŒì´ì¬ ì†Œì¼“ í†µì‹ 
* ì•ˆë“œë¡œì´ë“œ ìŠ¤íŠœë””ì˜¤ ì½”ë“œ êµ¬í˜„


## ğŸ—‚ Reference

Q-learningì„ êµ¬í˜„í•  ë•ŒëŠ” [Open Source](https://github.com/shiluyuan/Reinforcement-Learning-in-Path-Finding)ë¥¼ ì´ìš©í•˜ì˜€ë‹¤.

<br/><br/><br/>

---
## ğŸ§ ê°œë… ì„¤ëª… <br/>



<br/><br/><br/>

---

## ğŸ’» êµ¬í˜„ &nbsp;&nbsp;<font color='lightgray'>Implementation</font>

#### 1. ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
```python
import io
import pandas as pd
data_spring = pd.read_csv('spring.csv',encoding='CP949')
data_summer = pd.read_csv('summer.csv',encoding='CP949')
data_fall = pd.read_csv('fall.csv',encoding='CP949')
data_winter = pd.read_csv('winter.csv',encoding='CP949')
```

#### 2. ê²°ì¸¡ì¹˜ ì œê±°
```python
df_spring = df_spring.fillna(0)
df_summer = df_summer.fillna(0)
df_fall = df_fall.fillna(0)
df_winter = df_winter.fillna(0)
df_spring_test = df_spring_test.fillna(0)
```


```python
df_sp=df_spring.drop(['ì§€ì ','ì¼ì‹œ'],axis=1)
df_su=df_summer.drop(['ì§€ì ','ì¼ì‹œ'],axis=1)
df_fa=df_fall.drop(['ì§€ì ','ì¼ì‹œ'],axis=1)
df_wi=df_winter.drop(['ì§€ì ','ì¼ì‹œ'],axis=1)
df_spring_test=df_spring_test.drop(['ì§€ì ','ì¼ì‹œ'],axis=1)
```

```python
train_spring = df_sp.drop('ì§€ì ëª…', axis=1)
train_summer = df_su.drop('ì§€ì ëª…', axis=1)
train_fall = df_fa.drop('ì§€ì ëª…', axis=1)
train_winter = df_wi.drop('ì§€ì ëª…', axis=1)
test_spring = df_spring_test.drop('ì§€ì ëª…',axis=1)
```

#### 3. ê³„ì ˆë³„ ê¸°ìƒ ê´€ì¸¡ ë°ì´í„°ì— ë”°ë¼ ì ìˆ˜ ë§¤ê¸°ê¸°

ëª¨ë“  ê³„ì ˆì— ëŒ€í•´ **ê°•ìˆ˜, í‰ê· ê¸°ì˜¨, ìƒëŒ€ìŠµë„, í‰ê· í’ì†**ë¥¼ ê³ ë ¤í•˜ì—¬ ì ìˆ˜ë¥¼ ë§¤ê²¨ì£¼ì—ˆë‹¤. ì´ ê´€ì¸¡ì¹˜ë“¤ì€ ê³„ì ˆë§ˆë‹¤ ìƒì´í•˜ê²Œ ë‚˜íƒ€ë‚˜ë¯€ë¡œ ê³„ì ˆë³„ë¡œ í‰ê· ê¸°ì˜¨ì„ êµ¬í•˜ê³  ì™¸ì¶œí•˜ê¸° ì¢‹ì€ ê¸°ìƒ ì •ë³´ë¥¼ ê°ê° êµ¬í•´ì„œ ê¸°ì¤€ì„ ì •í•´ì£¼ì—ˆë‹¤.

#### 4. ëª¨ë¸ í•™ìŠµ ë° ì„±ëŠ¥ ë¹„êµ

ì´ë ‡ê²Œ ì ìˆ˜ë¥¼ ë§¤ê²¨ì¤€ ë°ì´í„°ë¥¼ í†µí•©í•´ì„œ **7:3**ì˜ ë¹„ìœ¨ë¡œ ëª¨ë¸ì— í•™ìŠµí•  í•™ìŠµë°ì´í„°ì™€ í‰ê°€ ë°ì´í„°ë¡œ ë‚˜ëˆ„ì–´ì£¼ì—ˆë‹¤.

```python
from sklearn.model_selection import train_test_split
X_train, X_test, y_train, y_test = train_test_split(train_spring, y_label_spring, test_size=0.3, random_state=42)
```

ì´ë•Œ sklearnì˜ **KNeighbors, SVM, Random Forest** ëª¨ë¸ë¡œ í•™ìŠµí•´ë³´ê³  R2 scoreì„ ê¸°ì¤€ìœ¼ë¡œ ì„±ëŠ¥ì„ ë¹„êµí•˜ì˜€ë‹¤. 

  ||KNeighbors|SVM|Forest|
  |:---:|:---:|:---:|:---:|
  |R2 score|0.6986|0.6318|0.9558|

âœ… Random Forest Regressorê°€ ê°€ì¥ ì„±ëŠ¥ì´ ë†’ìŒ

#### 5. ì†Œì¼“ í”„ë¡œê·¸ë˜ë°

ì›ë˜ í”„ë¡œì íŠ¸ì˜ ì´ˆê¸° ëª©í‘œëŠ” **4ë²ˆ**ê¹Œì§€ì˜€ë‹¤. íŒ€ì›ë“¤ê³¼ í•¨ê»˜ ìš°ë¦¬ ìƒí™œì— ë„ì›€ì´ ë  ìˆ˜ ìˆëŠ” ì£¼ì œë¥¼ ê³¨ë¼ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³  ì „ì²˜ë¦¬ í›„, ê·¸ê²ƒì„ ì„±ê³µì ìœ¼ë¡œ ì˜ˆì¸¡í•´ì„œ ê´€ê´‘ì§€ë¥¼ ì¶”ì²œí•´ì£¼ëŠ” ê²ƒê¹Œì§€ê°€ ì„±ê³µì ìœ¼ë¡œ ì§„í–‰ì´ ëê¸° ë•Œë¬¸ì— ìš°ë¦¬ëŠ” ì—¬ê¸°ì„œ ë©ˆì¶”ì§€ ì•Šê³  í•œ ë²ˆ ë” ìƒê°í•˜ê¸°ë¡œ í•˜ì˜€ë‹¤.

í•´ë‹¹ í•™ê¸°ì— **ì»´í“¨í„° ë„¤íŠ¸ì›Œí¬** ê³¼ëª©ì—ì„œ **Socket Programming**ì˜ ê°œë…ì„ ë°°ì› ë‹¤. ë‚œ ë°±ì—”ë“œë¥¼ ë°°ì›Œë³¸ ì ì€ ì—†ì§€ë§Œ í•´ë‹¹ í†µì‹  ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ ì•±ìœ¼ë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆì„ ê²ƒì´ë¼ ìƒê°í–ˆê³ , ì´ë¥¼ êµ¬í˜„í•´ë‚´ì—ˆë‹¤.

ì•„ë˜ì— ì¼ë¶€ ì½”ë“œë¥¼ ì˜¬ë ¤ë†“ê² ë‹¤.

<br/>

**[ Server ]**

```python
from socket import *
from datetime import datetime, timedelta
import numpy as np
HOST = ""
PORT = 12000
s = socket(AF_INET, SOCK_STREAM)
print ('Socket created')
s.bind((HOST, PORT))
print ('Socket bind complete')
s.listen(1)
print ('Socket now listening')
```


```python
#ì ‘ì† ìŠ¹ì¸
conn, addr = s.accept()
print("Connected by ", addr)

#ë°ì´í„° ìˆ˜ì‹ 
rc = conn.recv(1024)
rc = rc.decode("utf8").strip()
if not rc: break
print("Received: " + rc)
date=rc[0:8]
time=rc[8:]
print('date:',date)
print('time:',time)
```

```python
#í˜„ì¬ ë‚ ì§œ ì •ë³´
time1 = datetime.now() 
#ì›í•˜ëŠ” ë‚ ì§œ ì •ë³´ 
want_day_s = datetime(int(rc[0:4]),int(rc[4:6]),int(rc[6:8]),int(rc[8:10]),0,0) 

# ì˜¤ëŠ˜ê³¼ ì›í•˜ëŠ” ë‚ ì§œì˜ ì°¨ì´ 
# 2ë©´ ëª¨ë ˆ, 1ì´ë©´ ë‚´ì¼, 0ì´ë©´ ì˜¤ëŠ˜ ë‚ ì”¨ ì„ íƒí•œ ê²ƒ
interval = (want_day_s - time1).days 

#ëª¨ë ˆë¥¼ ì„ íƒí–ˆëŠ”ë° í˜„ì¬ ì‹œê°ì´ ìƒˆë²½ ì—¬ì„¯ì‹œ ì „ì´ë©´ ì˜¤ë¥˜ ë©”ì‹œì§€ ë³´ë‚´ê¸°
if(interval == 2) and (int(time1[12:14]) <= int(6)): 
    res = "ìƒˆë²½ 6ì‹œ ì´í›„ ëª¨ë ˆ ë‚ ì”¨ ì •ë³´ê°€ ì—…ë°ì´íŠ¸ ë©ë‹ˆë‹¤!"
    conn.sendall(res.encode("utf-8"))
    conn.close()
    s.close()
    exit()

#ì˜¤ëŠ˜, ë‚´ì¼, ëª¨ë ˆ ì´ì™¸ì˜ ì„ íƒì„ í–ˆì„ ì‹œ ì˜¤ë¥˜ ë©”ì‹œì§€ ë³´ë‚´ê¸°
if(interval != 1) and (interval != 0) and (interval != 2): 
    res = "ì˜¤ëŠ˜, ë‚´ì¼, ëª¨ë ˆì˜ ì˜ˆë³´ë§Œì„ ì§€ì›í•©ë‹ˆë‹¤!"
    conn.sendall(res.encode("utf-8"))
    conn.close()
    s.close()
    exit()

#í•˜ë£¨ ì „ë‚  ë‚ ì§œ ì •ë³´ ë°›ê¸°
pre_day_s = want_day_s + timedelta(days=-1) 

pre_day_s=str(pre_day_s)
pre_day_s=pre_day_s[:11]
pre_day_s=pre_day_s.replace('-','')

want_day_s=str(want_day_s)

#ì›í•˜ëŠ” pre_dayì˜ í˜•íƒœë¡œ ë³€í™˜
pre_day = pre_day_s + "00" 
print('pre_day_s',pre_day_s)

#ì›í•˜ëŠ” want_day í˜•íƒœë¡œ ë³€í™˜
want_day = want_day_s[:16] 
print('want_day', want_day)
```

ë‹¤ìŒì€ ê¸°ìƒìë£Œê°œë°©í¬í„¸ì—ì„œ Open APIë¥¼ ì‚¬ìš©í•˜ì—¬ 

```python
import pandas as pd
from pandas import json_normalize
import json
import requests
from bs4 import BeautifulSoup

url = 'http://apis.data.go.kr/1360000/TourStnInfoService/getTourStnVilageFcst'

x_test = pd.DataFrame(columns=['tm','spotName','th3','wd','ws','sky','rhm','pop'])

```

ë°œê¸‰ë°›ì€ API í‚¤ëŠ” ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì—…ë¡œë“œí•˜ì˜€ë‹¤.

```python
for ID in range(1,439):
    No = [29, 248, 249, 250]
    if ID in No:
        continue
    course_id = str(ID)
    queryString = "?" + \
      "ServiceKey=" + "0000000000000000" + \
      "&pageNo=" + "1"+ \
      "&numOfRows=" + "140" + \
      "&dataType=" + "JSON" + \
      "&CURRENT_DATE=" + pre_day + \
      "&HOUR=" + "24" + \
      "&COURSE_ID=" + course_id
      
    queryURL = url + queryString
    response = requests.get(queryURL)

    r_dict = json.loads(response.content)
    data = json_normalize(r_dict['response']['body']['items']['item'])

    li = ['tm','spotName','th3','wd','ws','sky','rhm','pop']
    
    #tm : ì„ íƒí•œ ì‹œê°ìœ¼ë¡œ ë¶€í„° 3ì‹œê°„ ê¸°ì˜¨ (ì˜ˆ : 09ë©´ 09-12)
    #wd : í’í–¥
    #ws : í’ì†
    #sky: í•˜ëŠ˜ ìƒíƒœ
    # 1: ë§‘ìŒ, 2: êµ¬ë¦„ ì¡°ê¸ˆ, 3: êµ¬ë¦„ë§ì´, 4:íë¦¼, 5: ë¹„, 6:ë¹„ëˆˆ, 7:ëˆˆë¹„, 8:ëˆˆ
    #rhm: ìŠµë„
    #pop: ê°•ìˆ˜í™•ë¥ 

    #í•„ìš”í•œ columnë§Œ dataì— ì €ì¥
    data = data.loc[:,li]
    
    #ì˜¤ì „ ì˜¤í›„ ì €ë… ì‹œê°„ì„ íƒì— ë§ëŠ” ë°ì´í„°ë§Œ ì¶”ì¶œ
    List = []
    for i in range(0,len(data['tm'])):
        if want_day not in data.loc[i,'tm']:
                List.append(i)
    data = data.drop(List,axis = 0)
    #print(data.head())
    x_test = x_test.append(data,ignore_index=True)
    #print(x_test.head())
x_test = x_test.drop_duplicates(['spotName'], keep='first')
```

<br/>

**[ Client ]**

```python

```

```python

```

```python

```

```python

```

***

### ìµœì¢… ê²°ê³¼ë¬¼

![](https://user-images.githubusercontent.com/86948867/182041916-bfdd6630-6b9c-4a88-b276-5e1fb104c325.png){: .center}

<br/><br/>

---

## â¡ï¸ &nbsp;í”„ë¡œì íŠ¸ë¥¼ ë§ˆë¬´ë¦¬í•˜ë©°..

í•´ë‹¹ í”„ë¡œì íŠ¸ëŠ” **ê¸°ê³„í•™ìŠµ**ê³¼ **ì»´í“¨í„°ë„¤íŠ¸ì›Œí¬** ìˆ˜ì—…ì„ ìˆ˜ê°•í•˜ë©´ì„œ íŒ€ì›ë“¤ê³¼ ìŠ¤ìŠ¤ë¡œ ì‹¬í™”í•´ë³¸ í”„ë¡œì íŠ¸ì˜€ê¸° ë•Œë¬¸ì— ë” ì˜ë¯¸ê°€ ìˆëŠ” ê²ƒ ê°™ë‹¤. 

## ì´ë¯¸ì§€ ë° ìë£Œ ì¶œì²˜

[[ì‹¤ì‹œê°„ ì „êµ­ ë‚ ì”¨] ì˜¤í›„ 5ì‹œ í˜„ì¬ ëŒ€ì²´ë¡œ íë¦¬ê³  ê³³ì— ë”°ë¼ ë¹„](https://www.joongang.co.kr/article/23690397#home)

[í•œêµ­ë¬¸í™”ê´€ê´‘ì—°êµ¬ì›](https://know.tour.go.kr/ptourknow/cardnewsView19Re.do?mstSeq=298)

<!--
<sup id="a1">[2](#f2)</sup>
 <b id="f1">1</b> ì²œì˜ˆì€, ê¹€ì„¸ë¹ˆ, ì´ììœ¤, ìš°ì§€í™˜, _ì„¤ëª… ê°€ëŠ¥í•œ AI ê¸°ìˆ ì„ í™œìš©í•œ ì‹ ìš©í‰ê°€ ëª¨í˜•ì— ëŒ€í•œ ì—°êµ¬_, í•œêµ­ë°ì´í„°ì •ë³´ê³¼í•™íšŒì§€(2021). [â†©](#a1)

<b id="f2">2</b> ì²œì˜ˆì€, ê¹€ì„¸ë¹ˆ, ì´ììœ¤, ìš°ì§€í™˜, _ì„¤ëª… ê°€ëŠ¥í•œ AI ê¸°ìˆ ì„ í™œìš©í•œ ì‹ ìš©í‰ê°€ ëª¨í˜•ì— ëŒ€í•œ ì—°êµ¬_, í•œêµ­ë°ì´í„°ì •ë³´ê³¼í•™íšŒì§€(2021). [â†©](#a1) -->


<!-- ### ğŸ¾ã€€ã€€ğŸ¾
### ğŸ¾ã€€ã€€ğŸ¾
### ğŸ¾ã€€ã€€ğŸ¾
### ğŸ¾ã€€ã€€ğŸ¾
### ğŸ¾ã€€ã€€ğŸ¾
### ğŸ¾ã€€ã€€ğŸ¾ 
<font color='dodgerblue'> ì˜ˆìœ íŒŒë‘ </font>
<font color='lightgray'>Miss</font>
<mark style='background-color: #f1f8ff'> ì—°í•œ íŒŒë‘ </mark>
<mark style='background-color: #fff5b1'> ì—°í•œ ë…¸ë‘ </mark>
<mark style='background-color: #ffdce0'> ì—°í•œ ë¹¨ê°• </mark>
<mark style='background-color: #dcffe4'> ì—°í•œ ì´ˆë¡ </mark>
<mark style='background-color: #f5f0ff'> ì—°í•œ ë³´ë¼ </mark>
-->
